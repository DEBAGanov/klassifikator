# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Klassifikator –≤ Timeweb Cloud Kubernetes

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-11-10  
**–í–µ—Ä—Å–∏—è**: 1.0

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
3. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
4. [–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ Timeweb Cloud](#—Å–æ–∑–¥–∞–Ω–∏–µ-–∫–ª–∞—Å—Ç–µ—Ä–∞-–≤-timeweb-cloud)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ kubectl](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-kubectl)
6. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
7. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –∏ SSL](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-dns-–∏-ssl)
8. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
9. [–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ](#–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
10. [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
11. [–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)
12. [Troubleshooting](#troubleshooting)
13. [–°—Ç–æ–∏–º–æ—Å—Ç—å](#—Å—Ç–æ–∏–º–æ—Å—Ç—å)

---

## üéØ –í–≤–µ–¥–µ–Ω–∏–µ

–î–∞–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã **Klassifikator** –≤ **Timeweb Cloud Kubernetes** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞—Ç—Ä–∞—Ç.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Kubernetes

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏
- ‚úÖ **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —É–ø–∞–≤—à–∏—Ö –ø–æ–¥–æ–≤
- ‚úÖ **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è
- ‚úÖ **Rolling updates** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ credentials

---

## üéØ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

- **kubectl** 1.28+ ([–£—Å—Ç–∞–Ω–æ–≤–∫–∞](https://kubernetes.io/docs/tasks/tools/))
- **kustomize** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –≤—Å—Ç—Ä–æ–µ–Ω –≤ kubectl)
- **Docker** (–¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤)
- **Git**

### Timeweb Cloud

- –ê–∫–∫–∞—É–Ω—Ç –≤ [Timeweb Cloud](https://timeweb.cloud/)
- –ë–∞–ª–∞–Ω—Å –¥–ª—è –æ–ø–ª–∞—Ç—ã –∫–ª–∞—Å—Ç–µ—Ä–∞ Kubernetes
- –î–æ–º–µ–Ω (volzhck.ru)

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∫–ª–∞—Å—Ç–µ—Ä–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- **Worker nodes**: 2 –Ω–æ–¥—ã
- **CPU –Ω–∞ –Ω–æ–¥—É**: 2 vCPU
- **RAM –Ω–∞ –Ω–æ–¥—É**: 4 GB
- **–î–∏—Å–∫**: 50 GB SSD
- **–ò—Ç–æ–≥–æ**: 4 vCPU, 8 GB RAM

**–°—Ç–æ–∏–º–æ—Å—Ç—å**: ~2000-3000 —Ä—É–±/–º–µ—Å—è—Ü

---

## ‚öôÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/your-username/klassifikator.git
cd klassifikator
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:

```bash
cp env.example .env
nano .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

```env
# Database
DB_PASSWORD=your_secure_password_here

# Redis
REDIS_PASSWORD=your_redis_password_here

# MinIO
MINIO_ROOT_PASSWORD=your_minio_password_here

# Google Sheets
GOOGLE_SHEETS_SPREADSHEET_ID=1KS2TOS5ZKxONDmUaVoiwb3tyu3Y1DlGQaME2KM4vItQ

# Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Credentials

–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `google-credentials.json` –≤ –ø–∞–ø–∫–µ `config/`:

```bash
mkdir -p config
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à google-credentials.json –≤ config/
```

### 4. –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤

```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –æ–±—Ä–∞–∑–æ–≤
docker-compose -f docker-compose.prod.yml build

# –ò–ª–∏ —Å–±–æ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker build -t klassifikator/landing-service:latest -f landing-service/Dockerfile .
docker build -t klassifikator/content-service:latest -f content-service/Dockerfile .
# ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

### 5. Push –æ–±—Ä–∞–∑–æ–≤ –≤ Docker Registry

**–í–∞—Ä–∏–∞–Ω—Ç 1: Docker Hub**

```bash
# –õ–æ–≥–∏–Ω –≤ Docker Hub
docker login

# –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
docker tag klassifikator/landing-service:latest your-username/klassifikator-landing:latest
docker tag klassifikator/content-service:latest your-username/klassifikator-content:latest
# ... –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

# Push –æ–±—Ä–∞–∑–æ–≤
docker push your-username/klassifikator-landing:latest
docker push your-username/klassifikator-content:latest
# ... –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: Timeweb Cloud Container Registry**

```bash
# –°–æ–∑–¥–∞–π—Ç–µ Container Registry –≤ –ø–∞–Ω–µ–ª–∏ Timeweb Cloud
# –ü–æ–ª—É—á–∏—Ç–µ credentials –¥–ª—è –¥–æ—Å—Ç—É–ø–∞

# –õ–æ–≥–∏–Ω
docker login registry.timeweb.cloud

# –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ push
docker tag klassifikator/landing-service:latest registry.timeweb.cloud/your-project/landing-service:latest
docker push registry.timeweb.cloud/your-project/landing-service:latest
```

**–û–±–Ω–æ–≤–∏—Ç–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –æ–±—Ä–∞–∑–æ–≤ –≤ `k8s/base/*-deployment.yaml`

---

## üöÄ –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ Timeweb Cloud

### –®–∞–≥ 1: –í—Ö–æ–¥ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ [https://timeweb.cloud/my/kubernetes](https://timeweb.cloud/my/kubernetes)
2. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä"**

### –®–∞–≥ 2: –í—ã–±–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- **–ò–º—è –∫–ª–∞—Å—Ç–µ—Ä–∞**: klassifikator-prod
- **–í–µ—Ä—Å–∏—è Kubernetes**: 1.28+ (–ø–æ—Å–ª–µ–¥–Ω—è—è stable)
- **–†–µ–≥–∏–æ–Ω**: –ú–æ—Å–∫–≤–∞ (–∏–ª–∏ –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞–º)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è worker nodes:**
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–¥**: 2
- **–¢–∏–ø**: Standard
- **CPU**: 2 vCPU
- **RAM**: 4 GB
- **–î–∏—Å–∫**: 50 GB SSD

**–°–µ—Ç—å:**
- **–°–µ—Ç–µ–≤–æ–π –ø–ª–∞–≥–∏–Ω (CNI)**: Calico (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏**: –í–∫–ª—é—á–∏—Ç—å

### –®–∞–≥ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ê–¥–¥–æ–Ω—ã (–≤–∫–ª—é—á–∏—Ç—å):**
- ‚úÖ **Nginx Ingress Controller** - –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
- ‚úÖ **cert-manager** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- ‚úÖ **Metrics Server** - –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚¨ú CSI S3 - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- ‚¨ú Velero - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è –±—ç–∫–∞–ø–æ–≤)

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ

–ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä"**

‚è±Ô∏è –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è: ~10-15 –º–∏–Ω—É—Ç

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ kubectl

### –®–∞–≥ 1: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ kubeconfig

1. –í –ø–∞–Ω–µ–ª–∏ Timeweb Cloud –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –∫–ª–∞—Å—Ç–µ—Ä
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"**
3. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª `kubeconfig`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ kubectl

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ kubeconfig
mkdir -p ~/.kube
cp ~/Downloads/kubeconfig ~/.kube/config-klassifikator

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
export KUBECONFIG=~/.kube/config-klassifikator

# –ò–ª–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç–µ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º config
KUBECONFIG=~/.kube/config:~/.kube/config-klassifikator kubectl config view --flatten > ~/.kube/config.new
mv ~/.kube/config.new ~/.kube/config
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
kubectl cluster-info

# –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–æ–¥
kubectl get nodes

# –í—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å 2 –Ω–æ–¥—ã –≤ —Å—Ç–∞—Ç—É—Å–µ Ready
```

---

## üö¢ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
cd k8s
./deploy.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ kubectl
2. ‚úÖ –°–æ–∑–¥–∞—Å—Ç namespace `klassifikator`
3. ‚úÖ –°–æ–∑–¥–∞—Å—Ç —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ `.env` –∏ `google-credentials.json`
4. ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç –≤—Å–µ Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
5. ‚úÖ –î–æ–∂–¥–µ—Ç—Å—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –ø–æ–¥–æ–≤
6. ‚úÖ –í—ã–≤–µ–¥–µ—Ç —Å—Ç–∞—Ç—É—Å –∏ URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞

### –†—É—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —à–∞–≥–∏ –≤—Ä—É—á–Ω—É—é:

```bash
cd k8s

# 1. –°–æ–∑–¥–∞–Ω–∏–µ namespace
kubectl create namespace klassifikator

# 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤
kubectl create secret generic klassifikator-secrets \
  --from-env-file=../.env \
  -n klassifikator

kubectl create secret generic google-credentials \
  --from-file=google-credentials.json=../config/google-credentials.json \
  -n klassifikator

# 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤
kubectl apply -k base/

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
kubectl get pods -n klassifikator -w
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –ø–æ–¥–æ–≤
kubectl get pods -n klassifikator

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# NAME                                   READY   STATUS    RESTARTS   AGE
# postgres-xxx                           1/1     Running   0          5m
# redis-xxx                              1/1     Running   0          5m
# minio-xxx                              1/1     Running   0          5m
# landing-service-xxx                    1/1     Running   0          3m
# content-service-xxx                    1/1     Running   0          3m
# template-service-xxx                   1/1     Running   0          3m
# media-service-xxx                      1/1     Running   0          3m
# integration-service-xxx                1/1     Running   0          3m
# order-service-xxx                      1/1     Running   0          3m
# api-gateway-xxx                        1/1     Running   0          3m

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
kubectl logs -f deployment/landing-service -n klassifikator

# Health check
kubectl exec -n klassifikator deployment/landing-service -- \
  curl -s http://localhost:8081/actuator/health
```

---

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –∏ SSL

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞ Load Balancer

```bash
kubectl get ingress klassifikator-ingress -n klassifikator

# –í—ã–≤–æ–¥:
# NAME                     CLASS   HOSTS                   ADDRESS         PORTS     AGE
# klassifikator-ingress    nginx   volzhck.ru,*.volzhck.ru 123.45.67.89   80, 443   5m
```

–ó–∞–ø–∏—à–∏—Ç–µ IP –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `123.45.67.89`)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –≤ Timeweb Cloud

1. –û—Ç–∫—Ä–æ–π—Ç–µ [https://timeweb.cloud/my/domains](https://timeweb.cloud/my/domains)
2. –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–º–µ–Ω `volzhck.ru`
3. –î–æ–±–∞–≤—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏:

**A-–∑–∞–ø–∏—Å—å –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞:**
- –¢–∏–ø: `A`
- –ò–º—è: `@`
- –ó–Ω–∞—á–µ–Ω–∏–µ: `123.45.67.89` (IP Load Balancer)
- TTL: `300`

**A-–∑–∞–ø–∏—Å—å –¥–ª—è API:**
- –¢–∏–ø: `A`
- –ò–º—è: `api`
- –ó–Ω–∞—á–µ–Ω–∏–µ: `123.45.67.89`
- TTL: `300`

**A-–∑–∞–ø–∏—Å—å –¥–ª—è wildcard –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤:**
- –¢–∏–ø: `A`
- –ò–º—è: `*`
- –ó–Ω–∞—á–µ–Ω–∏–µ: `123.45.67.89`
- TTL: `300`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞
dig volzhck.ru +short
nslookup volzhck.ru

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
dig api.volzhck.ru +short

# –ü—Ä–æ–≤–µ—Ä–∫–∞ wildcard
dig test.volzhck.ru +short
```

‚è±Ô∏è –í—Ä–µ–º—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS: 5-30 –º–∏–Ω—É—Ç

### –®–∞–≥ 4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

Cert-manager –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ—Ç Let's Encrypt.

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ ClusterIssuer
kubectl get clusterissuer

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
kubectl get certificate -n klassifikator

# –î–µ—Ç–∞–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
kubectl describe certificate klassifikator-tls -n klassifikator
```

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –±—É–¥—É—Ç –≥–æ—Ç–æ–≤—ã —á–µ—Ä–µ–∑ 2-5 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS.

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞
curl -I https://volzhck.ru

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl -I https://api.volzhck.ru

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–µ–Ω–¥–∏–Ω–≥–∞
curl -I https://test.volzhck.ru
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç—ã
cd k8s
./status.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
kubectl get all -n klassifikator
kubectl top pods -n klassifikator
kubectl top nodes
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç—ã
cd k8s
./logs.sh landing-service

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
kubectl logs -f deployment/landing-service -n klassifikator

# –õ–æ–≥–∏ –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
kubectl logs -f -l component=microservice -n klassifikator --prefix=true
```

### Health Checks

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö health endpoints
for service in landing content template media integration order; do
  echo "Checking ${service}-service..."
  kubectl exec -n klassifikator deployment/${service}-service -- \
    curl -s http://localhost:808X/actuator/health | jq .
done
```

### –ú–µ—Ç—Ä–∏–∫–∏

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–æ–¥–∞–º–∏
kubectl top pods -n klassifikator --sort-by=memory

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–æ–¥–∞–º–∏
kubectl top nodes
```

### Dashboard (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Kubernetes Dashboard:

```bash
kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞
kubectl create serviceaccount dashboard-admin -n kubernetes-dashboard
kubectl create clusterrolebinding dashboard-admin \
  --clusterrole=cluster-admin \
  --serviceaccount=kubernetes-dashboard:dashboard-admin

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
kubectl -n kubernetes-dashboard create token dashboard-admin

# Port-forward
kubectl port-forward -n kubernetes-dashboard service/kubernetes-dashboard 8443:443

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: https://localhost:8443
```

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (HPA)

–°–æ–∑–¥–∞–π—Ç–µ HorizontalPodAutoscaler:

```yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: landing-service-hpa
  namespace: klassifikator
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: landing-service
  minReplicas: 1
  maxReplicas: 5
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
```

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:

```bash
kubectl apply -f hpa.yaml
kubectl get hpa -n klassifikator -w
```

### –†—É—á–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–ø–ª–∏–∫
kubectl scale deployment landing-service --replicas=3 -n klassifikator

# –ü—Ä–æ–≤–µ—Ä–∫–∞
kubectl get pods -n klassifikator -l app=landing-service
```

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ deployment
kubectl edit deployment landing-service -n klassifikator

# –ò–∑–º–µ–Ω–∏—Ç–µ resources:
#   requests:
#     cpu: 200m
#     memory: 512Mi
#   limits:
#     cpu: 1000m
#     memory: 1Gi
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Rolling Update

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞
kubectl set image deployment/landing-service \
  landing-service=klassifikator/landing-service:v2.0 \
  -n klassifikator

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
kubectl rollout status deployment/landing-service -n klassifikator

# –ò—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
kubectl rollout history deployment/landing-service -n klassifikator
```

### –û—Ç–∫–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
kubectl rollout undo deployment/landing-service -n klassifikator

# –û—Ç–∫–∞—Ç –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–≤–∏–∑–∏–∏
kubectl rollout undo deployment/landing-service --to-revision=2 -n klassifikator
```

### Blue-Green Deployment

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ (green)
kubectl apply -f landing-service-v2-deployment.yaml

# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Service selector)
kubectl patch service landing-service -n klassifikator \
  -p '{"spec":{"selector":{"version":"v2"}}}'

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏ (blue)
kubectl delete deployment landing-service-v1 -n klassifikator
```

---

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë—ç–∫–∞–ø PostgreSQL

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
kubectl exec -n klassifikator deployment/postgres -- \
  pg_dump -U klassifikator klassifikator | gzip > backup-$(date +%Y%m%d).sql.gz

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
gunzip < backup-20251110.sql.gz | \
  kubectl exec -i -n klassifikator deployment/postgres -- \
  psql -U klassifikator klassifikator
```

### –ë—ç–∫–∞–ø PersistentVolumes (—Å Velero)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Velero:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Velero CLI
brew install velero

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Velero –≤ –∫–ª–∞—Å—Ç–µ—Ä
velero install \
  --provider aws \
  --plugins velero/velero-plugin-for-aws:v1.8.0 \
  --bucket klassifikator-backups \
  --secret-file ./credentials-velero \
  --backup-location-config region=ru-1,s3ForcePathStyle="true",s3Url=https://s3.timeweb.cloud

# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
velero backup create klassifikator-backup --include-namespaces klassifikator

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
velero restore create --from-backup klassifikator-backup
```

### –ë—ç–∫–∞–ø –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤

```bash
# –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
kubectl get all,configmap,secret,pvc,ingress -n klassifikator -o yaml > backup-manifests.yaml

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ kustomize
kubectl kustomize k8s/base/ > backup-kustomize.yaml
```

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–¥—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# –°—Ç–∞—Ç—É—Å –ø–æ–¥–æ–≤
kubectl get pods -n klassifikator

# –î–µ—Ç–∞–ª–∏ –ø–æ–¥–∞
kubectl describe pod <pod-name> -n klassifikator

# –õ–æ–≥–∏
kubectl logs <pod-name> -n klassifikator

# –°–æ–±—ã—Ç–∏—è
kubectl get events -n klassifikator --sort-by='.lastTimestamp'
```

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ –Ω–æ–¥–∞—Ö
- –û—à–∏–±–∫–∏ –≤ –æ–±—Ä–∞–∑–∞—Ö
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å PersistentVolumes

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ PostgreSQL
kubectl get pod -n klassifikator -l app=postgres

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
kubectl logs -n klassifikator -l app=postgres

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
kubectl exec -n klassifikator deployment/landing-service -- \
  nc -zv postgres-service 5432

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
kubectl exec -n klassifikator deployment/landing-service -- env | grep DB
```

### –ü—Ä–æ–±–ª–µ–º–∞: Ingress –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Ingress
kubectl get ingress -n klassifikator
kubectl describe ingress klassifikator-ingress -n klassifikator

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Ingress Controller
kubectl get pods -n ingress-nginx
kubectl logs -n ingress-nginx deployment/ingress-nginx-controller

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
kubectl get certificate -n klassifikator
kubectl describe certificate klassifikator-tls -n klassifikator
```

### –ü—Ä–æ–±–ª–µ–º–∞: –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
kubectl top pods -n klassifikator --sort-by=memory
kubectl top nodes

# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
kubectl edit deployment <service-name> -n klassifikator

# –ò–ª–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–¥ –≤ –ø–∞–Ω–µ–ª–∏ Timeweb Cloud
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**

1. **–í–∫–ª—é—á–∏—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis**
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ connection pooling –¥–ª—è –ë–î**
3. **–£–≤–µ–ª–∏—á—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤**
4. **–î–æ–±–∞–≤—å—Ç–µ HPA –¥–ª—è –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è**
5. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î**

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

### –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ Timeweb Cloud Kubernetes

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è | –¶–µ–Ω–∞/–º–µ—Å—è—Ü |
|-----------|-------------|------------|
| Worker Node 1 | 2 vCPU, 4 GB RAM, 50 GB SSD | ~1000 —Ä—É–± |
| Worker Node 2 | 2 vCPU, 4 GB RAM, 50 GB SSD | ~1000 —Ä—É–± |
| Load Balancer | –í–∫–ª—é—á–µ–Ω | ~300 —Ä—É–± |
| Persistent Storage | 32 GB (10+2+20) | ~100 —Ä—É–± |
| **–ò—Ç–æ–≥–æ** | | **~2400 —Ä—É–±/–º–µ—Å—è—Ü** |

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:**
- –¢—Ä–∞—Ñ–∏–∫: ~50 —Ä—É–±/100 GB
- Container Registry: ~100 —Ä—É–±/–º–µ—Å—è—Ü (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ë—ç–∫–∞–ø—ã: ~50 —Ä—É–±/–º–µ—Å—è—Ü (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ò—Ç–æ–≥–æ —Å –∑–∞–ø–∞—Å–æ–º: ~2600-3000 —Ä—É–±/–º–µ—Å—è—Ü**

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Spot Instances** (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ) - —ç–∫–æ–Ω–æ–º–∏—è –¥–æ 70%
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–¥** - –ø–ª–∞—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HDD –≤–º–µ—Å—Ç–æ SSD** –¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ lifecycle policies** –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤
5. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ Docker –æ–±—Ä–∞–∑—ã** - —É–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –û–±—â–∏–µ

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
kubectl config use-context klassifikator-prod

# –¢–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
kubectl config current-context

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
kubectl get all -n klassifikator

# –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
kubectl delete namespace klassifikator
```

### Debugging

```bash
# –ó–∞–ø—É—Å–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–æ–¥–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
kubectl run -it --rm debug --image=alpine --restart=Never -n klassifikator -- sh

# Exec –≤ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø–æ–¥
kubectl exec -it <pod-name> -n klassifikator -- /bin/bash

# Port-forward –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
kubectl port-forward -n klassifikator svc/api-gateway 8080:8080

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
kubectl cp <pod-name>:/path/to/file ./local-file -n klassifikator
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# Watch –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
kubectl get pods -n klassifikator -w

# –°–æ–±—ã—Ç–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
kubectl get events -n klassifikator -w

# –õ–æ–≥–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–¥–æ–≤
kubectl logs -f -l app=landing-service -n klassifikator --all-containers=true
```

---

## üéì –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Timeweb Cloud Kubernetes](https://timeweb.cloud/docs/k8s)
- [Kubernetes Official Docs](https://kubernetes.io/docs/)
- [kubectl Cheat Sheet](https://kubernetes.io/docs/reference/kubectl/cheatsheet/)

### –û–±—É—á–µ–Ω–∏–µ

- [Kubernetes Basics](https://kubernetes.io/docs/tutorials/kubernetes-basics/)
- [Timeweb Cloud Academy](https://timeweb.cloud/academy)

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è production

- [ ] –ö–ª–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω —Å 2+ –Ω–æ–¥–∞–º–∏
- [ ] kubectl –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω
- [ ] –í—Å–µ Docker –æ–±—Ä–∞–∑—ã —Å–æ–±—Ä–∞–Ω—ã –∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ registry
- [ ] `.env` —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏
- [ ] Google Credentials —Ä–∞–∑–º–µ—â–µ–Ω—ã
- [ ] –í—Å–µ –ø–æ–¥—ã –≤ —Å—Ç–∞—Ç—É—Å–µ Running
- [ ] Health checks –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- [ ] DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã
- [ ] Ingress —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –ª–µ–Ω–¥–∏–Ω–≥ —Å–æ–∑–¥–∞–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë—ç–∫–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ Timeweb Cloud**: [https://timeweb.cloud/support](https://timeweb.cloud/support)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞**: `/docs/`
- **Issues**: GitHub Issues

---

**–í–µ—Ä—Å–∏—è**: 1.0  
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 2025-11-10  
**–ê–≤—Ç–æ—Ä**: DevOps Team


